---
import Layout from '../layouts/Layout.astro';
import Badge from '../components/Badge.astro';
import { getResourceSections } from '../data/resources';
const base = import.meta.env.BASE_URL;

const sections = getResourceSections(base);
---

<Layout title="Resurser" description="Resource Radar: länkade, kuraterade vägledningar för öppna data i Sverige.">
  <section class="res-hero">
    <p class="res-kicker mono">RESOURCE RADAR</p>
    <h1 class="res-title">Resurser i omlopp</h1>
    <p class="res-lead">
      Här samlar vi bästa praktiken för öppna data i Sverige. Från statens officiella vägledning till verktyg, specifikationer och community. Fokus ligger på det du faktiskt behöver för att lyckas.
    </p>

    <div class="res-chips">
      <Badge label="OFFICIAL GUIDANCE" variant="orbit" icon="orbit" />
      <Badge label="SPECS & STANDARDS" variant="terminal" icon="terminal" />
      <Badge label="COMMS READY" variant="comms" icon="antenna" />
    </div>

    <div class="res-search card" aria-hidden="true">
      <div class="search-left">
        <span class="search-label mono">SEARCH</span>
        <span class="search-hint">Kommer senare: filtrering + “copy link”</span>
      </div>
      <div class="search-box">
        <span class="search-placeholder mono">Type to scan the orbit…</span>
        <span class="kbd">CTRL</span><span class="kbd">K</span>
      </div>
    </div>

    <div class="glow-line"></div>
  </section>

  <section class="res-grid" aria-label="Resource categories">
    {sections.map((s) => (
      <article class="res-card">
        <div class="res-head">
          <div>
            <h2 class="res-h">{s.title}</h2>
            <p class="res-sub">{s.subtitle}</p>
          </div>
          <Badge label={s.title.toUpperCase()} variant={s.variant} icon={s.icon} />
        </div>

        <div class="res-list">
          {s.items.map((it) => (
            <a class="res-item" href={it.url} target="_blank" rel="noopener">
              <div class="res-item-top">
                <span class="res-name">{it.name}</span>
                <span class="res-arrow mono" aria-hidden="true">↗</span>
              </div>
              <p class="res-note">{it.note}</p>
            </a>
          ))}
        </div>
      </article>
    ))}
  </section>

  <section class="res-bottom">
    <div class="card res-cta">
      <h2 class="res-cta-title">Du ser något som fattas?</h2>
      <p class="res-cta-text">
        Det här är en levande samling. Skicka ett förslag via GitHub Discussions, eller öppna en PR direkt. Tillsammans bygger vi Sveriges mest användbara öppen data-radar.
      </p>
      <div class="res-actions">
        <a
          class="btn cta"
          href="https://github.com/MelissaSkywalkz/open-data-orbit/discussions"
          target="_blank"
          rel="noopener"
        >
          Send a Signal
        </a>
        <a class="btn secondary cta" href={`${base}community/`}>
          Explore Comms
        </a>
      </div>
    </div>
  </section>
</Layout>

<style>
.res-hero{
  padding: var(--spacing-2xl) 0 var(--spacing-xl) 0;
}

.res-kicker{
  margin: 0 0 10px 0;
  font-size: 0.78rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: rgba(88,166,255,0.78);
}

.res-title{
  margin-top: 0;
  font-family: var(--font-display);
  letter-spacing: 0.03em;
  text-shadow: 0 18px 70px rgba(88,166,255,0.16);
}

.res-lead{
  max-width: 80ch;
  color: rgba(230,237,243,0.78);
  margin: 0 0 var(--spacing-lg) 0;
  line-height: 1.75;
}

.res-chips{
  display:flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: var(--spacing-md);
}

/* visual-only search panel */
.res-search{
  margin-top: var(--spacing-xl);
  padding: var(--spacing-lg);
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: var(--spacing-lg);
  background: rgba(22,27,34,0.66);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 14px 40px rgba(0,0,0,0.28);
}

.search-left{
  display:flex;
  flex-direction: column;
  gap: 6px;
}
.search-label{
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(88,166,255,0.85);
  font-weight: 900;
}
.search-hint{
  color: rgba(230,237,243,0.62);
}

.search-box{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(88,166,255,0.16);
  background: rgba(13,17,23,0.20);
  min-width: min(420px, 100%);
}
.search-placeholder{
  color: rgba(230,237,243,0.55);
  font-size: 0.85rem;
  letter-spacing: 0.06em;
}
.kbd{
  font-family: var(--font-mono);
  font-size: 0.75rem;
  padding: 2px 8px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(22,27,34,0.70);
  color: rgba(230,237,243,0.70);
}

/* Grid */
.res-grid{
  display:grid;
  grid-template-columns: repeat(12, 1fr);
  gap: var(--spacing-lg);
  margin-top: var(--spacing-xl);
  padding-bottom: var(--spacing-2xl);
}

.res-card{
  grid-column: span 4;
  padding: var(--spacing-lg);
  border-radius: var(--radius);
  background: rgba(22,27,34,0.66);
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 14px 40px rgba(0,0,0,0.28);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.res-card::before{
  content:"";
  position:absolute;
  inset:-1px;
  pointer-events:none;
  border-radius: inherit;
  background: radial-gradient(120% 80% at 20% -20%, rgba(88,166,255,0.10), transparent 60%);
  opacity: 0.9;
}

.res-card > *{ position: relative; z-index: 1; }

.res-head{
  display:flex;
  justify-content: space-between;
  align-items:flex-start;
  gap: 12px;
  margin-bottom: var(--spacing-md);
}

.res-h{ margin: 0 0 6px 0; }

.res-sub{
  margin: 0;
  color: rgba(230,237,243,0.65);
  line-height: 1.6;
}

.res-list{
  display:flex;
  flex-direction: column;
  gap: 10px;
  margin-top: var(--spacing-md);
}

.res-item{
  display:block;
  text-decoration:none;
  padding: 12px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(13,17,23,0.16);
  transition: transform 160ms ease, border-color 160ms ease, background 160ms ease;
}

.res-item:hover{
  transform: translateY(-2px);
  border-color: rgba(88,166,255,0.18);
  background: rgba(13,17,23,0.22);
}

.res-item-top{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
}

.res-name{
  font-weight: 800;
  color: rgba(230,237,243,0.92);
}

.res-arrow{
  color: rgba(88,166,255,0.75);
}

.res-note{
  margin: 6px 0 0 0;
  color: rgba(230,237,243,0.66);
  line-height: 1.6;
}

/* Bottom CTA */
.res-bottom{
  padding-bottom: var(--spacing-2xl);
}

.res-cta{
  padding: var(--spacing-xl);
}

.res-cta-title{ margin-top: 0; }

.res-cta-text{
  color: rgba(230,237,243,0.72);
  line-height: 1.7;
  max-width: 80ch;
}

.res-actions{
  display:flex;
  flex-wrap: wrap;
  gap: var(--spacing-md);
  margin-top: var(--spacing-md);
}

@media (max-width: 1100px){
  .res-card{ grid-column: span 6; }
  .search-box{ min-width: 280px; }
}

@media (max-width: 768px){
  .res-card{ grid-column: span 12; }
  .res-search{ flex-direction: column; align-items:flex-start; }
  .search-box{ width: 100%; }
}
</style>
